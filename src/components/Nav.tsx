"use client";

import { useState } from "react";
import NavItem from "./NavItem";
import { menus } from "@/constants";

function Nav({ isOpen }: { isOpen: boolean }) {
  const [currentOpen, setCurrentOpen] = useState<null | number>(null);

  return (
    <nav
      className={`fixed top-[50px] left-0 w-full h-[calc(100%-50px)] bg-[#f5f2e9] transition-all duration-500 ${
        isOpen ? "visible opacity-100" : "invisible opacity-0"
      }`}
    >
      <div className="flex flex-col h-full">
        <ul className="px-5 overflow-y-auto">
          {menus.map((menu, i) => (
            <NavItem
              num={i}
              currentOpen={currentOpen}
              setCurrentOpen={setCurrentOpen}
              menu={menu}
              key={menu.title}
            />
          ))}
          <li className="mx-auto my-[30px]">
            <div className="flex justify-center items-center gap-x-1.5">
              <svg
                width="24"
                height="24"
                fill="none"
                className="css-m0eduh dark"
              >
                <path
                  fill="#4C433F"
                  fillRule="evenodd"
                  d="M1 12c0-.064 0-.128.002-.192L1 11.744h.003c.048-2.126.7-4.103 1.791-5.767l-.003-.117h.08a10.99 10.99 0 0 1 8.646-4.85c.075-.006.15-.01.227-.01v.003C11.83 1 11.914 1 12 1c5.99 0 10.861 4.787 10.997 10.744H23l-.001.093L23 12c0 6.075-4.925 11-11 11l-.256-.003V23l-.159-.005a2.217 2.217 0 0 1-.068-.005C5.666 22.737 1 17.913 1 12Zm2.506-4.181a9.42 9.42 0 0 0-.97 4.01c.06 1.657 1.89 3.171 4.632 4.008A25.214 25.214 0 0 1 6.884 12c0-.684.025-1.353.074-2.004C5.44 9.49 4.224 8.74 3.506 7.82Zm3.622.608c-1.433-.53-2.427-1.284-2.716-2.086a9.489 9.489 0 0 1 4.409-3.259c-.797 1.32-1.385 3.183-1.693 5.345ZM8.471 10.4c-.034.52-.052 1.054-.052 1.6 0 1.526.14 2.963.382 4.234.996.184 2.073.285 3.199.285 1.027 0 2.013-.084 2.934-.239.247-1.282.392-2.735.392-4.28 0-.565-.02-1.118-.056-1.655a16.193 16.193 0 0 1-3.526.376c-1.15 0-2.256-.113-3.273-.322Zm6.641-1.597a14.517 14.517 0 0 1-3.368.383 14.67 14.67 0 0 1-3.12-.326c.482-3.586 1.74-6.164 3.001-6.318.124-.005.25-.007.375-.007l.103.005c1.26.133 2.52 2.691 3.01 6.263ZM16.78 9.91c.054.677.081 1.376.081 2.09 0 1.377-.103 2.698-.296 3.916 2.853-.808 4.788-2.337 4.896-4.023l.003-.088a9.418 9.418 0 0 0-1.192-4.411c-.618 1.06-1.866 1.932-3.492 2.516Zm2.425-4.05h-.041l-.006.121c-.08.887-1.047 1.747-2.555 2.353-.32-2.182-.926-4.054-1.745-5.36a9.475 9.475 0 0 1 4.347 2.886ZM3.18 15.441c1.109.825 2.581 1.482 4.279 1.905.33 1.409.792 2.63 1.362 3.572a9.494 9.494 0 0 1-5.641-5.477Zm5.955 2.236c.617 2.212 1.553 3.666 2.49 3.78.124.006.25.008.375.008.971 0 1.955-1.466 2.598-3.75a19.74 19.74 0 0 1-2.598.169c-.989 0-1.95-.072-2.865-.207Zm5.722 3.35a9.49 9.49 0 0 0 5.963-5.586c-1.167.869-2.738 1.55-4.55 1.97-.342 1.436-.822 2.673-1.413 3.615Z"
                  clipRule="evenodd"
                ></path>
              </svg>
              <p className="text-xs">TW</p>
              <svg className="w-4 h-4">
                <path
                  fill="#4C433F"
                  fillRule="evenodd"
                  d="M2.295 6.295a1.01 1.01 0 0 1 1.427 0L8 10.568l4.278-4.273a1.01 1.01 0 0 1 1.427 0 1.006 1.006 0 0 1 0 1.424l-4.992 4.986a1.01 1.01 0 0 1-1.426 0L2.295 7.719a1.006 1.006 0 0 1 0-1.424Z"
                  clipRule="evenodd"
                ></path>
              </svg>
            </div>
          </li>
        </ul>
      </div>
    </nav>
  );
}

export default Nav;
